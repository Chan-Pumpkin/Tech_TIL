# Session


## 세션 특징
- 정보가 서버의 메모리에 저장이 된다.
- 브라우저의 세션 연동은 세션 쿠키를 이용함.
- 쿠키보다 보안에 유리함.
- 서버에 부하를 줄 수 있음.
- 사용자당 한 개의 세션이 생성이 됨.
- 세션은 유효 시간을 가짐.
- 로그인 상태 유지 기능, 쇼핑몰 장바구니 기능에 주로 사용

## 세션 기능 실행 과정
1) 브라우저로 사이트 접속
2) 서버는 접속한 브라우저에 대한 세션 객체를 생성
3) 서버는 생성된 세션 id를 클라이언트 브라우저에 응답
4) 브라우저는 서버로부터 받은 세션 id를 브라우저가 사용하는 메모리의 세션 쿠키에 저장한다.   
5) 브라우저가 재접속하면 브라우저는 세션 쿠키에 저장된 세션 id를 서버에 전달
6) 서버는 전송된 세션 id를 이용해 해당 세션에 접근하여 작업을 수행함.
     
세션 특징에서 '사용자당 한 개의 세션이 생성이 됨.'의 특징을 살펴보면 브라우저가 서버에 접속하여 브라우저에 저장된 세션id를 전송하면 서버는 그 값을 이용해서 해당 브라우저에 대한 세션을 구분하고 각 브라우저에 대한 세션 작업 수행한다.     

## 세션 API의 특징과 기능
서블릿에서 세션을 이용하려면 HttpSession 클래스 객체를 생성해서 사용해야함.    
HttpSession 객체는 HttpServletRequest의 getSession() 메서드를 호출해서 생성함.    
    
## getSession() 메서드      
getSession() : 기존의 세션 객체가 존재하면 반환하고, 없으면 새로 생성       
getSession(true) : 기존의 세션 객체가 존재하면 반환하고, 없으면 새로 생성        
getSession(false) : 기존의 세션 객체가 존재하면 반환하고, 없으면 null을 반환      
    
## HttpSession 클래스의 메서드
|반환타입|메서드|설명|
|----|---|---|
|Object|getAttribute(String name)|속성 이름이 name인 속성 값을 Object타입으로 반환. 해당되는 속성 이름이 없을 경우 null 값을 반환|
|String|getId|세션에 할당된 고유 식별자를 String 타입으로 반환|
|int|getMaxInactiveInterval()|현재 생성된 세션을 유지하기 위해 설정된 세션 유지 시간을 int 타입을 반환|

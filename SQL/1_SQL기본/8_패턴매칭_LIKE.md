# 패턴매칭

## 1. LIKE로 패턴 매칭

### 1) 차이

‘=’ 연산자로 검색할 경우 열 값이 완전히 일치할 때, 참이 된다.

### 2) LIKE

- LIKE 술어를 사용하면 열 값이 부분적으로 일치하는 경우에도 참이 된다
- 왼쪽에는 매칭 대상을 지정하고, 오른쪽에는 패턴을 문자열로 지정
- 수치형 상수는 지정할 수 없음

```sql
열명 LIKE '패턴'
```

### 3) LIKE에서 사용할 수 있는 메타 문자

- ‘%’는 임의의 문자열을 의미
- ‘_’는 임의의 문자 하나를 의미
- 패턴을 정의할 때는 메타문자를 여러 개 사용할 수 있다.
- ‘*’ LIKE에서는 사용할 수 없다.

```sql
%_
```

## 2. LIKE로 ‘%’ 검색

### 1) 문자열 중에 %가 포함된 경우

```sql
SELECT * FROM sample_table WHERE a LIKE '%\%%';
```

‘%\%%’ 여기에서

- 첫 %는 메타문자 % (임의의 문자열)
- \% 그 자체 문자
- 마지막 %는 메타문자 % (임의의 문자열)

### 2) 문자열 중에 _가 포함된 경우

```sql
SELECT * FROM sample_table WHERE a LIKE '_\__';
```

‘_\__’ 여기에서

- 첫 _는 메타문자 _ (임의의 문자 하나)
- \_ 그 자체 문자
- 마지막 _는 메타문자 _ (임의의 문자 하나)

## 3. 문자열 상수 ‘의 이스케이프

- 문자열 상수 안에 ‘를 포함하고 싶은 경우, ‘를 2개 연속해서 사용하면 된다.
- (문자열을 ‘’ 안에 둘러싸는 걸 기본으로) ‘he’’s’ → he’s
- (문자열을 ‘’ 안에 둘러싸는 걸 기본으로) ‘’’’ → ‘

# 12_수치 연산

## 1. 사칙 연산

| 연산자 | 연산 |
| --- | --- |
| + | 덧셈 |
| - | 뺄셈 |
| * | 곱셈 |
| / | 나눗셈 |
| % | 나머지 |
- 데이터베이스 제품에 따라 다른 점이 % 대신 MOD 함수를 사용하는 경우도 있다.

### 연산자의 우선순위

- 1순위 : * /  %
- 2순위 : + -
- 우선순위가 같다면 왼쪽에서 오른쪽으로 계산 →

## 2. SELECT 구로 연산

### 예시 : SELECT 구 연산

```sql
SELECT *, price*count FROM sample_table;
```

| num | price | count | price*count |
| --- | --- | --- | --- |
| 1 | 100 | 2 | 200 |
| 2 | 200 | 3 | 600 |
| 3 | 50 | 6 | 300 |

## 3. 열의 별명

### 예시 : 별명 붙이기

```sql
SELECT *, price*count AS amount FROM sample_table;
```

| num | price | count | amount |
| --- | --- | --- | --- |
| 1 | 100 | 2 | 200 |
| 2 | 200 | 3 | 600 |
| 3 | 50 | 6 | 300 |
- 이름에 ASCII 문자 이외의 것을 포함할 경우 더블쿼트(””)로 둘러싸서 지정
- 더블쿼트(””)로 둘러싸면 데이터베이스 객체의 이름이라고 간주함
- 싱글쿼트(’’)로 둘러싸면 문자열 상수
- 예약어 같은 이름으로 지정하고 싶으면 더블쿼트 사용하면 됨.
- 이름을 붙일 때 숫자로 시작할 수 없음.

## 4. WHERE 구 연산

### 예시 : WHERE 구에서 계산 검색

```sql
SELECT *, price*count AS amount FROM sample_table
 WHERE price*count >= 500;
```

| num | price | count | amount |
| --- | --- | --- | --- |
| 2 | 200 | 3 | 600 |

### WHERE 구와 SELECT 구의 내부처리 순서

- 데이터베이스 서버 내부에서 WHERE 구 → SELECT 구의 순서로 처리 됨.
- SELECT 구에서 지정한 별명은 WHERE 구 안에서 사용할 수 없음.    

## 5. NULL 값의 연산

### NULL 값을 이용해 ‘NULL+1’ 같은 연산을 처리하면?

- C언어나, PHP언어는 NULL이 0으로 처리 되어서 1로 생각할 수 있다.
- 하지만, SQL은 NULL을 0으로 처리되지 않기 때문에, ‘NULL+1’은 NULL이다.
- 1+NULL은 NULL
- 1/NULL은 NULL
- NULL로 연산하면 결과는 NULL이 된다.

## 6. ORDER BY 구에서 연산

### ORDER BY는 서버에서 내부적으로 가장 나중에 처리된다.

- SELECT 구보다 나중에 처리되기 때문에, SELECT구에서 지정한 별명을 ORDER BY에서 사용할 수 있다.
- 한편 WHERE 구에서는 별명을 사용할 수 없다.
- 순서 : WHERE 구 → SELECT 구 → ORDER BY 구

## 7. 함수

### SYNTAX 함수

```sql
함수명(인수1, 인수2)
```

- 함수는 계산 대상을 인수로 지정한다.
- 인수는 함수명 뒤에 괄호로 묶어 표기
- 인수를 파라미터라고도 부른다.
- 예시 : % 연산자를 MOD 함수로 사용
MOD(10, 3) → 1

## 8. ROUND 함수

반올림 할 때 사용하는 함수

### 반올림 자릿수 지정

- 해당 인수를 생략하면 0으로 간주해서, 소수점 첫째 자리를 반올림
- 1을 지정하면 소수점 둘째 자리를 반올림

### ROUND 함수 예시

```sql
SELECT score, ROUNT(score, 1) FROM sample_table;
```

| score | round(score, 1) |
| --- | --- |
| 123.41 | 123.4 |
| 321.42 | 321.4 |
- ROUND함수에서 1을 지정하여 소수점 둘째 자리를 반올림 하였다.

### ROUND함수 인수와 자릿수

- 12345.67

| 1 | 2 | 3 | 4 | 5 | 6 | 7 |
| --- | --- | --- | --- | --- | --- | --- |
| -5 (10000단위) | -4 (1000단위) | -3 (100단위) | -2 (10단위) | -1 (1단위) | 0 (소수점 첫째) | 1 (소수점 둘째) |

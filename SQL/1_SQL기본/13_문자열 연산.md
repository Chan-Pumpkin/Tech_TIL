## 1. 문자열 결합

### 문자열 결합이란

- 다음과 같이 문자열 데이터를 결합하는 연산

```sql
'ABC'||'1234'
```
→'ABC1234'
- 2개의 열 데이터를 모아서 1개의 열로 처리하고 싶은 경우에 자주 사용

### 문자열 결합 연산자 제품 차이

문자열을 결합하는 연산자에는 데이터베이스 제품마다 방언이 있으며, 차이가 있다.

| 연산자/함수 | 연산 | 데이터베이스 |
| --- | --- | --- |
| + | 문자열 결합 | SQL Server |
| || | 문자열 결합 | Oracle, DB2, PostgreSQL |
| CONCAT | 문자열 결합 | MySQL |

## 2. SUBSTRING 함수

### SUBSTRING 함수

- 문자열의 일부분을 계산해서 반환해주는 함수
- 데이터베이스에 따라서는 함수명이 SUBSTR인 경우도 있음.
- 연월일을 각각 따로 추출하고 싶을 때, 쓰는 경우가 많음.

### 예시

- 앞 4자리(년) 추출

```sql
SUBSTRING('20150125001', 1, 4)
```

→ ‘2015’

- 다섯 번째 자리부터 2자리(월) 추출

```sql
SUBSTRING('20150125001', 5, 2)
```

→’01’

## 3. TRIM 함수

### TRIM 함수란?

- 문자열의 앞뒤로 여분의 스페이스가 있을 경우 이를 제거해주는 함수
- 문자열 도중에 존재하는 스페이스는 제거되지 않음
- 고정길이 문자열형에 대해 많이 사용하는 함수
- 인수를 지정하는 것으로 스페이스 이외의 문자를 제거할 수 있음

### 사용 예시

```sql
TRIM('ABC   ')
```

→ ‘ABC’

## 4. CHARACTER_LENGTH 함수

### CHARACTER_LENGTH 함수란?

- 문자열의 길이를 계산해 돌려주는 함수
- 문자열의 길이는 문자 단위로 계산되어 수치로 반환
- 줄여서 ‘CHAR_LENGTH’로 사용할 수 있다

### OCTET_LENGTH 함수

- 문자열의 길이를 바이트 단위로 계산해 돌려주는 함수
- 문자 하나의 데이터가 몇 바이트의 저장공간

### 문자세트

- 알파벳은 반각문자
- 한글은 전각문자
- 반각문자는 전각문자 폭의 절반밖에 안 되며, 저장용량 또한 전각문자 쪽이 더 크다.
- 반각의 알파벳, 숫자, 기호는 ‘ASCII 문자’라고 불린다.
- 한글 인코드 방식 ‘EUC-KR’, ‘UTF-8’등의 인코드 방식을 주로 사용
- 인코드 방식은 데이터베이스나 테이블 정의할 때 변경할 수 있고, RDBMS에서는 ‘문자세트’라고 부름
- 한 문자가 몇 바이트인지는 쓰이는 문자세트에 따라 다르다라는 것

### 주의사항 : 문자세트

- CHAR_LENGTH 함수를 사용하는 경우에는 문자 수로 계산되기 때문에 문제가 되지 않음
- OCTET_LENGTH 함수의 경우 바이트 단위로 길이를 계산하므로 주의가 필요함.

문자세트 별 문자 수와 바이트 수

| 문자세트 | 문자 수 | 바이트 수 |
| --- | --- | --- |
| EUC-KR | 12 | 19 |
| UTF-8 | 12 | 26 |
- EUC-KR에서 ASCII 문자는 1 바이트, 한글은 2바이트의 용량을 가진다.
- UTF-8에서 ASCII 문자는 1 바이트, 한글은 3바이트의 용량을 가진다.
- 이렇게 문자 세트에 따라 한 문자의 크기는 달라진다.
